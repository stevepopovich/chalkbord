<div class="help-overlay" (click)="hideHelpOverlay()" padding [hidden]="swipeHelpOverlayHidden && auxHelpOverlayHidden">
    <div *ngIf="!swipeHelpOverlayHidden" class="help-text">
        <img class="swipe-help-arrow" src="assets/images/straight-arrow-1.png" />
        <img class="swipe-help-arrow" style="margin-bottom: 64px;" src="assets/images/straight-arrow-2.png" />
        Swipe right or press the heart to claim a deal or swipe left or press the X to see the next deal.
    </div>
    <div *ngIf="!auxHelpOverlayHidden && swipeHelpOverlayHidden">
        <img class="claimed-help-arrow" src="assets/images/arrow-3.png" />
        <div class="claimed-help-text">
            Tap here to see the deals you have claimed and use them
        </div>
        <img class="filter-help-arrow" src="assets/images/arrow-4.png" />
        <div class="filter-help-text">
            Tap here to filter for different types of deals
        </div>
    </div>
</div>

<div class="loading-div">
    <div *ngIf="initialLoading">
        <ion-spinner class="ion-spinner-consumer"></ion-spinner>
        <h2 ion-text style="text-align: center; color: white;">Getting your local deals!</h2>
    </div>
    <div *ngIf="!initialLoading">
        <h2 class="no-consumer-cards-text" ion-text>That's all the deals in your area.</h2>
        <h2 *ngIf="currentFilter.dealType != null || currentFilter.onlyVegan || currentFilter.onlyVegetarian" class="no-consumer-cards-text"
            style="margin-top: 0" ion-text>Try removing filters.</h2>
        <h2 class="bottom-no-consumer-card-text" ion-text>Check back later!</h2>
    </div>
</div>
<ion-header style="min-height: 56px;">
    <ion-navbar style="min-height: 56px;">
        <button (click)="openProfile()" class="button-nav-bar button-top-left" ion-button icon-only [clear]="true">
            <ion-icon ios="md-contact" md="md-contact"></ion-icon>
        </button>
        <img class="textured-name" src="assets/images/chalk-logo.png" />
        <button class="button-top-right" (click)="openConsumerCardList()" ion-button icon-only [clear]="true">
            <img class="card-stack-img" src="assets/images/card-stack.png" />
        </button>
    </ion-navbar>
</ion-header>

<img *ngIf="getAuxHelpZ() == '25'" class="card-stack-img-help" src="assets/images/card-stack.png" />
<!--I am sorry-->

<div swing-stack #myswing1 [stackConfig]="stackConfig" (throwoutleft)="voteUp(false)" (throwoutright)="voteUp(true)" id="card-stack"
    [style.zIindex]="-1000 ">
    <ion-card #mycards1 swing-card *ngFor="let card of organizationViewCards; let i=index;" [style.zIndex]="-1*i"
        [ngStyle]="{'transition':transitionString}" (click)="moreInfo()">
        <img class="non-draggable-card-image fill" src="{{card.imageURL}}" />
        <img class="gradient-on-card" src="assets/images/gradient.png" />

        <ion-card-content class="card-text card-inner-shadow">
            <ion-card-title class="locale-card-title">
                {{card.organization.name}}
            </ion-card-title>
            {{card.dealDescription}}
            <p class="locale-card-time">{{getMomentFormatted(card.dealStart, "MM/DD")}}
                {{getMomentFormatted(card.dealStart, "hh:mm a")}} - {{getMomentFormatted(card.dealEnd,
                "hh:mm a")}}</p>
        </ion-card-content>
    </ion-card>
</div>

<ion-grid class="bottom-grid" [ngStyle]="{'z-index':getBottomGridZ()}">
    <ion-row style="height: 100%">
        <ion-col class="center-content-column" col-2>
            <button (click)="showHelpOverlay()" class="transparent-button bottom-button outside-button" ion-button
                icon-only round>
                <ion-icon name="help"></ion-icon>
            </button>
        </ion-col>
        <ion-col class="center-content-column" col-4>
            <button [ngStyle]="{'z-index':getSwipeHelpZ()}" (click)="clickNo()" class="transparent-button bottom-button middle-button"
                ion-button icon-only round>
                <img class="x-button" src="assets/images/x-chalk.png" />
            </button>
        </ion-col>
        <ion-col class="center-content-column" col-4>
            <button [ngStyle]="{'z-index':getSwipeHelpZ()}" (click)="clickLike()" class="transparent-button bottom-button middle-button"
                ion-button icon-only round>
                <img class="heart-button" src="assets/images/heart-chalk.png" />
            </button>
        </ion-col>
        <ion-col class="center-content-column" col-2>
            <button [ngStyle]="{'z-index':getAuxHelpZ()}" (click)="openFilterPopover($event)" class="transparent-button bottom-button outside-button aux-button"
                ion-button icon-only round>
                <ion-icon name="funnel"></ion-icon>
            </button>
        </ion-col>
    </ion-row>
</ion-grid>