{"version":3,"sources":["../../src/services/device.service.ts","../../src/types/deals.type.ts","../../src/services/image-service.service.ts","../../src/services/card-data.service.ts","../../src/types/location.type.ts","../../src/components/user-profile/user-profile.component.ts","../../src/services/deal-editing.service.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/components/more-card-info/more-card-info.component.ts","../../src/services/restaurant-service.ts","../../src/types/restaurant.type.ts","../../src/components/filter-deals/filter-deal.component.ts","../../src/components/deal-editor/deal-editor.component.ts","../../src/services/uploader.service.ts","../../src/types/user.type.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/components/modal-navbar/modal-navbar.component.ts","../../src/services/login-keys.service.ts","../../src/services/authorization.service.ts","../../src/services/toast.service.ts","../../src/components/card/card.component.ts","../../src/types/utils.type.ts","../../src/app/app.component.ts","../../src/components/consumer/consumer.component.ts","../../src/services/view-controller.service.ts","../../src/components/restaurant-deal-maker/restaurant-deal-maker.component.ts","../../src/enums/ionic-screen-sizes.enum.ts","../../src/enums/ionic-platform.enum.ts","../../src/components/user-signup/user-signup.component.ts","../../src/components/browser-home/browser-home.component.ts","../../src/components/restaurant-landing/restaurant-landing.component.ts","../../src/components/restaurant-profile/restaurant-profile.component.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { UniqueDeviceID } from \"@ionic-native/unique-device-id\";\nimport { Injectable } from \"@angular/core\";\nimport { Storage } from '@ionic/storage';\nimport { Platform } from \"ionic-angular\";\n\n@Injectable()\nexport class DeviceService {\n    public deviceId: string;\n\n    constructor(private uniqueDeviceID: UniqueDeviceID, private storage: Storage, public platform: Platform){\n        if(this.platform.is(\"cordova\")){\n            this.uniqueDeviceID.get().then((id) => {\n                this.deviceId = id;\n            });\n        }\n    }\n\n    public putUserEmailPasswordToLocalStorage(key: string ,email: string, password: string): void {\n        this.storage.set(key, new EmailPasswordTuple(email, password));\n    }\n\n    public getUserEmailPasswordFromLocalStorage(key: string): Promise<EmailPasswordTuple> {\n        return this.storage.get(key);\n    }\n\n    public putSetting(key: string, rememberMe: boolean){\n        return this.storage.set(key, rememberMe);\n    }\n\n    public getSetting(key: string): Promise<boolean> {\n        return this.storage.get(key);\n    }\n}\n\nexport class EmailPasswordTuple {\n    constructor(public email: string, public password: string){ }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/device.service.ts","import { Guid } from \"./utils.type\";\nimport { Restaurant } from \"./restaurant.type\"; \nimport { GSLocation } from \"./location.type\";\n\nexport class GSCard { \n    public id: string;\n\n    public imageURL: string;\n    public restaurant: Restaurant;\n\n    public constructor(public dealDescription: string, public dealStart: Date, \n        public dealEnd: Date, public numberOfDeals: Number, public dealType: DealType, obj?: any){\n        this.id = Guid.newGuid();\n\n        if(obj){\n            this.id = obj.id;\n            this.restaurant = obj.restaurant;\n            this.dealDescription = obj.dealDescription;\n            this.dealStart = new Date(obj.dealStart);\n            this.dealEnd = new Date(obj.dealEnd);\n            this.numberOfDeals = obj.numberOfDeals;\n            this.dealType = obj.dealType;\n        }\n    }\n\n    public getAsPlainObject(): any {\n        this.restaurant = Object.assign({}, this.restaurant);\n        \n        return Object.assign({}, this);\n    }\n\n    public static getBlankCard(): GSCard {\n        const blankCard = new GSCard(null, new Date(), new Date(), -1, DealType.Drinks, null)\n        blankCard.restaurant = new Restaurant(\"\", \"\", \"\", \"\", new GSLocation());\n        return blankCard;\n    }\n}\n\nexport enum DealType{\n    Drinks,\n    Food,\n    Both\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/types/deals.type.ts","import { Injectable } from \"@angular/core\";\nimport { AngularFireStorage } from \"angularfire2/storage\";\nimport { GSCard } from \"../types/deals.type\";\n\n@Injectable()\nexport class ImageService {\n    constructor(private storage: AngularFireStorage) {\n    }\n\n    public setDealImageURL(dealModel: GSCard): void{\n        this.storage.ref(\"locale-deal-photos/\" + dealModel.id).getDownloadURL().subscribe(URL => {\n            console.log(URL);\n            dealModel.imageURL = URL;\n        });\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/image-service.service.ts","import { Observable } from 'rxjs/Observable';\nimport { Injectable } from '@angular/core';\nimport { AngularFirestore, AngularFirestoreCollection } from 'angularfire2/firestore';\nimport { GSCard } from '../types/deals.type';\nimport { merge } from 'rxjs';\nimport { Guid } from \"../types/utils.type\";\nimport { GSLocation } from '../types/location.type';\n\n@Injectable()\nexport class CardDataService {\n\n    public cardDoc: AngularFirestoreCollection<GSCard>;\n\n    constructor(private database: AngularFirestore) {\n        this.cardDoc = this.database.collection<GSCard>(\"cards\");\n    }\n\n    public getCards(): Observable<GSCard[]> {\n        return this.cardDoc.valueChanges();\n    }\n\n    public setCards(data: GSCard[]): void {\n        const cards = data.map((card)=> {return Object.assign({}, card.getAsPlainObject())});\n        cards.forEach((card) => {\n            this.cardDoc.doc(card.id).set(Object.assign({}, card));\n        })\n    }\n\n    public addCard(data: GSCard): void {\n        this.cardDoc.doc(data.id).set(Object.assign({}, data.getAsPlainObject()));\n    }\n\n    public getCardsById(ids: Guid[]): Observable<Observable<GSCard[]>> {\n        const observables: Observable<GSCard[]>[] = [];\n\n        for (let id of ids) {\n            observables.push(this.database.collection<GSCard>(\"cards\", ref => ref.where(\"id\", \"==\", id)).valueChanges());\n        }\n        \n        const allCardsObservableMerged: Observable<Observable<GSCard[]>> = merge(observables);\n\n        return allCardsObservableMerged;\n    }\n\n    public getCardsByLatLng(location: GSLocation, radiusInKM: number): Observable<GSCard[]> {\n        var distanceInKMAverageBetweenLatitudes = 111.045;\n\n        var latitudeRadiusLength = radiusInKM / distanceInKMAverageBetweenLatitudes;\n\n        var radiusOfEarthInKM = 6371;\n\n        var bearingClockwiseFromNorthInRadians = 1.5708;//90 degrees\n\n        var distanceOverRadius = radiusInKM / radiusOfEarthInKM;\n\n        var newLat = Math.asin( Math.sin(location.lat)*Math.cos(distanceOverRadius) +\n            Math.cos(location.lat)*Math.sin(distanceOverRadius)*Math.cos(bearingClockwiseFromNorthInRadians) );\n        var newLng = location.lng + Math.atan2(Math.sin(bearingClockwiseFromNorthInRadians)*Math.sin(distanceOverRadius)*Math.cos(location.lat),\n            Math.cos(distanceOverRadius)-Math.sin(location.lat)*Math.sin(newLat));\n\n        var changeInLng = Math.abs(newLng - location.lng);\n\n        var latDeals = this.database.collection<GSCard>(\"cards\", ref => ref.where(\"restaurant.location.lat\", \"<=\",  (location.lat + latitudeRadiusLength))\n                                                        .where(\"restaurant.location.lat\", \">=\",  (location.lat - latitudeRadiusLength))).valueChanges();\n\n        var lngDeals = this.database.collection<GSCard>(\"cards\", ref => ref.where(\"restaurant.location.lng\", \"<=\",  (location.lng + changeInLng))\n                                                        .where(\"restaurant.location.lng\", \">=\",  (location.lng - changeInLng))).valueChanges();\n\n        return Observable.merge(latDeals, lngDeals);\n    }\n\n    public filterNonDuplicateDeals(cards: GSCard[]): GSCard[] {\n        var filteredDeals: GSCard[] = [];\n\n        for(let currentCard of cards) {\n            if(cards.findIndex(card => {return card.id == currentCard.id}) > -1 &&\n                filteredDeals.findIndex(card => {return card.id == currentCard.id}) < 0)\n                filteredDeals.push(currentCard);\n        }\n\n        return filteredDeals;\n    }\n\n    public updateCard(card: GSCard) {\n        delete(card.imageURL);\n\n        this.cardDoc.doc(card.id).set(card.getAsPlainObject());\n    }\n\n    public deleteCardById(id: string): Promise<void> {\n        return this.cardDoc.doc(id).delete();\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/card-data.service.ts","export class GSLocation {\n    public lat: number;\n    public lng: number\n\n    constructor(googleLocation?: google.maps.LatLng){\n        if(googleLocation){\n            this.lat = googleLocation.lat();\n            this.lng = googleLocation.lng();\n        }\n    }\n\n    public getAsPlainObject(): any {\n        return Object.assign({}, this);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/types/location.type.ts","import { Component, ViewChild } from \"@angular/core\";\nimport { DeviceService } from \"../../services/device.service\";\nimport { ViewControllerService } from \"../../services/view-controller.service\";\nimport { ModalController, ViewController, Button, NavParams, App } from \"ionic-angular\";\nimport { AuthorizationService } from \"../../services/authorization.service\";\nimport { ToastService } from \"../../services/toast.service\";\nimport { GSUser } from \"../../types/user.type\";\n\nconst rememberMeUserKey = \"rememberMeUser\";//dont change this unless you want to change the other one is user-signup\nconst rememberMeRestKey = \"rememberMeRest\";//this either\n\n@Component({\n    templateUrl: './user-profile.component.html',\n    selector: 'user-profile',\n    styleUrls: ['/user-profile.component.scss']\n})\n\nexport class UserProfileComponent {\n    @ViewChild('editButton') editButton: Button;\n\n    public isRestaurant: boolean;\n\n    public userEmail: string;\n    public firstName: string;\n\n    public emailDisabled: boolean = true;\n\n    public editButtonText: string = \"edit\";\n\n    constructor(public deviceService: DeviceService, public viewController: ViewControllerService, \n        public modalCtrl: ModalController, public viewCtrl: ViewController, \n        public authService: AuthorizationService, public toastService: ToastService, \n        private params: NavParams, private app: App){\n\n        this.isRestaurant = this.params.get(\"isRestaurant\");\n\n        this.userEmail = this.authService.fireAuth.auth.currentUser.email; \n        this.firstName = this.authService.currentUser.firstName;\n    }\n\n    public toggleEdit(){\n        if(!this.isRestaurant) {\n            if(this.emailDisabled){\n                this.emailDisabled = false;\n    \n                this.editButtonText = \"save\";\n            }\n            else{\n                if(this.authService.fireAuth.auth.currentUser.email != this.userEmail){\n                    this.authService.fireAuth.auth.currentUser.updateEmail(this.userEmail).then(() => {\n                        this.toastService.showReadableToast(\"Cool, email is updated\");\n                    }).catch((reason) => {\n                        this.toastService.showReadableToast(\"Email not updated: \" + reason);\n                    });\n                }\n    \n                if(this.authService.currentUser.firstName != this.firstName){\n                    const currUser: GSUser = Object.assign({}, this.authService.currentUser);\n    \n                    currUser.firstName = this.firstName;\n    \n                    this.authService.updateUserInDatabase(currUser).then(() => {\n                        this.toastService.showReadableToast(\"Cool, user name is updated\");\n                    }).catch((reason) => {\n                        this.toastService.showReadableToast(\"User not updated: \" + reason);\n                    });\n                }\n    \n                this.emailDisabled = true;\n    \n                this.editButtonText = \"edit\";\n            }\n        }\n    }\n\n    public logout(){\n        const toast = this.toastService.showReadableAndAnswerableOkayToast(\"Are you sure you want to log out?\");\n\n        toast.onDidDismiss((data, dismissType) => {\n            data;\n            if(dismissType == \"close\"){\n                if(this.isRestaurant){\n                    this.deviceService.putSetting(rememberMeRestKey, false);\n\n                    this.viewController.setBrowserHome();\n                } else {\n                    this.deviceService.putSetting(rememberMeUserKey, false);\n\n                    this.viewController.setSignUpView();\n                }\n\n                this.viewCtrl.dismiss();\n            }\n        });\n\n        toast.present();\n    }\n\n    public closeProfile(){\n        this.viewCtrl.dismiss();\n    }\n\n    public resetPassword(): void {\n        const toast = this.toastService.showReadableAndAnswerableOkayToast(\"Are you sure you want to reset your password?\");\n\n        toast.onDidDismiss((data, dismissType) => {\n            data;\n            if(dismissType == \"close\"){\n                var currentEmail = this.authService.fireAuth.auth.currentUser.email;\n\n                if(currentEmail){\n                    this.authService.checkUserSignInMethods(currentEmail).then((methods) => {\n                        if(methods.length > 0){\n                            this.authService.fireAuth.auth.sendPasswordResetEmail(currentEmail).then(() => {\n                                this.toastService.showReadableToast(\"Cool, a reset link was sent to your email.\");\n                            }).catch((reason) => {\n                                this.toastService.showReadableToast(\"Sorry, couldn't send you a reset link because: \" + reason)\n                            });\n                        }\n                        else\n                            this.toastService.showReadableToast(\"We don't have that email signed up. Please sign up!\");\n                    });\n                }\n                else{\n                    this.toastService.showReadableToast(\"Are you logged in? Please contact support\");\n                }\n            }\n        });\n\n        toast.present();\n    }\n\n    public yourCards() {\n        this.app.getRootNav().push()\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/user-profile/user-profile.component.ts","import { Injectable } from \"@angular/core\";\nimport { GSCard } from \"../types/deals.type\";\nimport { Subject } from 'rxjs';\n\n@Injectable()\nexport class DealEditorService {\n    public currentDealBeingEdited: GSCard;\n\n    public currentDealSubject: Subject<GSCard> = new Subject<GSCard>();\n\n    public setCurrentDeal(deal: GSCard){\n        this.currentDealBeingEdited = deal;\n\n        this.currentDealSubject.next(deal);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/deal-editing.service.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 285;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 285\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 328;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 328\n// module chunks = 0","import { NavParams } from 'ionic-angular';\nimport { Component } from \"@angular/core\";\nimport { LaunchNavigator } from '@ionic-native/launch-navigator';\nimport { GSCard, DealType } from '../../types/deals.type';\n\n@Component({\n    templateUrl: './more-card-info.component.html',\n    selector: 'more-card-info',\n    styleUrls: ['/more-card-info.component.scss']\n})\nexport class MoreCardInfoComponent{ \n    public card: GSCard;\n\n    public dealType: string;\n\n    constructor(private navParams: NavParams, private launchNavigator: LaunchNavigator){\n        this.card = this.navParams.get(\"card\");\n\n        this.dealType = DealType[this.card.dealType.valueOf()];\n    }\n\n    public goToLocation() {\n        this.launchNavigator.navigate(this.card.restaurant.address);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/more-card-info/more-card-info.component.ts","import { Observable } from 'rxjs/Observable';\nimport { AngularFirestoreCollection, AngularFirestore } from 'angularfire2/firestore';\nimport { Restaurant } from './../types/restaurant.type';\nimport { Injectable } from \"@angular/core\";\n\n@Injectable()\nexport class RestaurantService {\n    public restaurantCollection: AngularFirestoreCollection<Restaurant>;\n\n    constructor(private database: AngularFirestore) {\n        this.restaurantCollection = this.database.collection<Restaurant>(\"restaurants\");\n    }\n\n    public getRestaurantById(id: string): Observable<Restaurant[]> {\n        return this.database.collection<Restaurant>(\"restaurants\", ref => ref.where(\"id\", '==', id)).valueChanges();//TODO\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/restaurant-service.ts","import { GSLocation } from \"./location.type\";\n\nexport class Restaurant {\n    constructor(public uid: string, public name: string, public address: string, \n        public imageSource: string, public location: GSLocation){}\n\n    public getAsPlainObject(): any {\n        this.location = Object.assign({}, this.location);\n\n        return Object.assign({}, this);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/types/restaurant.type.ts","import { Component } from \"@angular/core\";\nimport { ViewController } from \"ionic-angular\";\n\n@Component({\n    templateUrl: './filter-deal.component.html',\n    selector: 'filter-deal',\n    styleUrls: ['/filter-deal.component.scss']\n})\nexport class FilterDealComponent{\n    constructor(public viewCtrl: ViewController){\n\n    }\n\n    public closePopover(model: string) {\n        this.viewCtrl.dismiss(model);\n      }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/filter-deals/filter-deal.component.ts","//import { PictureSourceType } from '@ionic-native/camera';\nimport { Component, ViewChild, ElementRef } from \"@angular/core\";\nimport { GSCard } from \"../../types/deals.type\";\nimport { CardDataService } from \"../../services/card-data.service\";\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { UploadService } from \"../../services/uploader.service\";\nimport { AuthorizationService } from \"../../services/authorization.service\";\nimport { DealEditorService } from \"../../services/deal-editing.service\";\nimport { Platform, ActionSheetController } from \"ionic-angular\";\nimport { IonicScreenSize } from \"../../enums/ionic-screen-sizes.enum\";\nimport { IonicPlatform } from '../../enums/ionic-platform.enum';\nimport { ImageService } from '../../services/image-service.service';\n\n@Component({\n    templateUrl: './deal-editor.component.html',\n    selector: 'deal-editor',\n    styleUrls: ['/deal-editor.component.scss'] \n})\nexport class DealEditorComponent{\n    @ViewChild('hiddenFileInput') hiddenFileInput: ElementRef;\n\n    public dealEditorFormGroup: FormGroup;\n\n    public limitDealNumber: boolean = false;\n\n    public imageDataForUpload; \n    public imageDataForPreview;\n    public fileReader = new FileReader();\n\n    public editingDeal: boolean;\n    public uneditedDeal: GSCard;\n\n    public platformReady: boolean;\n\n    public constructor(private cardService: CardDataService, public formBuilder: FormBuilder, private uploader: UploadService,\n                    public authService: AuthorizationService, public dealEditorService: DealEditorService, \n                    private platform: Platform, public actionSheetCtrl: ActionSheetController, private imageService: ImageService){\n        this.dealEditorFormGroup = formBuilder.group({\n            dealDescription: ['', Validators.required],\n            numberOfDeals: ['', Validators.compose([Validators.maxLength(1000), Validators.pattern('[0-9 ]*')])],\n            limitedDealNumber: [''],\n            dealDay: ['', Validators.required],\n            dealStart: ['', Validators.required],\n            dealEnd:['', Validators.required],\n            dealType: ['', Validators.required],\n        });\n\n        this.dealEditorService.currentDealSubject.subscribe((deal: GSCard) => {\n            this.clearFields();\n            this.setCurrentCardBeingEdited(deal);\n        });\n\n        this.platform.ready().then(() => {\n            this.platformReady = true;\n        });\n\n        this.fileReader.onloadend = () => {\n            this.imageDataForPreview = this.fileReader.result;\n        };\n    }\n\n    public setImageData(event): void{\n        this.imageDataForUpload = event.srcElement.files[0];\n        this.fileReader.readAsDataURL(this.imageDataForUpload);\n    }\n\n    public delete(){\n        this.cardService.deleteCardById(this.dealEditorService.currentDealBeingEdited.id);\n        this.authService.removeUserCardFromCurrentListById(this.dealEditorService.currentDealBeingEdited.id);\n        this.dealEditorService.currentDealBeingEdited = null;\n        this.dealEditorService.currentDealSubject.next();\n        this.imageDataForPreview = null;\n        this.imageDataForUpload = null;\n    }\n\n    public add(){\n        if(this.dealEditorFormGroup.valid && this.imageDataForUpload){\n            const deal = this.getDealFromFields();\n\n            this.uploader.uploadDealPhoto(this.imageDataForUpload, deal.id, false).then(() => {\n                this.imageDataForUpload = null;\n                this.dealEditorService.currentDealBeingEdited = deal;\n                this.dealEditorService.currentDealSubject.next();\n                this.setCurrentCardBeingEdited(deal);\n            });\n\n            this.cardService.addCard(deal);\n\n            this.authService.addCardIdToCurrentUser(deal.id);\n        }\n    }\n\n    public save(){\n        if(this.dealEditorFormGroup.valid){ \n            var deal: GSCard = this.getDealFromFields();\n\n            const startDate = this.dealEditorFormGroup.get(\"dealDay\").value;\n            const startTime = this.dealEditorFormGroup.get(\"dealStart\").value;\n            const endTime = this.dealEditorFormGroup.get(\"dealEnd\").value;\n    \n            const startDatetime = this.getSaveCombinedTime(startTime, startDate);\n            const endDatetime = this.getSaveCombinedTime(endTime, startDate);\n    \n            deal.dealStart = startDatetime;\n            deal.dealEnd = endDatetime;\n            deal.id = this.dealEditorService.currentDealBeingEdited.id;\n    \n            if(this.imageDataForUpload){\n                this.uploader.uploadDealPhoto(this.imageDataForUpload, deal.id, true).then(() => {\n                    this.cleanUpImageData();\n                    this.imageService.setDealImageURL(this.dealEditorService.currentDealBeingEdited);\n                });\n            }\n    \n            this.cardService.updateCard(deal);\n        }\n        else \n            this.reportBadFields();\n    }\n\n    private getSaveCombinedTime(time: any, date: any): Date {\n        const combinedTime = new Date(date);\n        const timeDateObj = new Date(time);\n\n        combinedTime.setHours(timeDateObj.getHours());\n        combinedTime.setMinutes(timeDateObj.getMinutes());\n\n        return combinedTime;\n    }\n\n    private setCurrentCardBeingEdited(deal: GSCard) {\n        if(deal){\n            this.uneditedDeal = deal;\n            this.editingDeal = true;\n\n            Object.keys(this.dealEditorFormGroup.controls).forEach(key => {\n                if(key != \"dealDay\" && key != \"dealStart\" && key != \"dealEnd\")//this just suprsses some warnings\n                    this.dealEditorFormGroup.get(key).setValue(deal[key]);\n            });\n    \n            this.dealEditorFormGroup.get(\"dealDay\").setValue(deal.dealStart.toISOString());\n            this.dealEditorFormGroup.get(\"dealStart\").setValue(deal.dealStart.toISOString());\n            this.dealEditorFormGroup.get(\"dealEnd\").setValue(deal.dealEnd.toISOString());\n\n            this.dealEditorFormGroup.get(\"limitedDealNumber\").setValue(deal.numberOfDeals > 0);\n        } else\n            this.clearFields();\n    }\n\n    private getCombinedTime(time: any, date: any): Date {//still needs to be tested\n        const combinedTime = new Date(Date.parse(date));\n        const timeDateObj = new Date('1970-01-01T' + time);//use abitrary stuff date here to make parsing happen\n\n        const timeOffsetInHours = timeDateObj.getTimezoneOffset() / 60;\n\n        combinedTime.setHours(timeDateObj.getHours() - timeOffsetInHours + 1);//add one bc combinedTime is one hour off?? GMT-400???\n        combinedTime.setMinutes(timeDateObj.getMinutes());//idk but this should be watched\n\n        return combinedTime;\n    }\n\n    public cancel(){\n        this.dealEditorService.setCurrentDeal(null);\n\n        this.clearFields();\n    }\n\n    private clearFields(){\n        this.uneditedDeal = null;\n        this.editingDeal = false;\n\n        this.cleanUpImageData();\n\n        Object.keys(this.dealEditorFormGroup.controls).forEach(key => {\n            this.dealEditorFormGroup.get(key).setValue(null);\n        });\n    }\n\n    private getDealFromFields(): GSCard{\n        const startDate = this.dealEditorFormGroup.get(\"dealDay\").value;\n\n        const startTime = this.dealEditorFormGroup.get(\"dealStart\").value;\n        const endTime = this.dealEditorFormGroup.get(\"dealEnd\").value;\n\n        const startDatetime = this.getCombinedTime(startTime, startDate);\n        const endDatetime = this.getCombinedTime(endTime, startDate);\n\n        let deal: GSCard;\n\n        if(!this.limitDealNumber){\n            deal = new GSCard(this.dealEditorFormGroup.get(\"dealDescription\").value, \n            startDatetime,\n            endDatetime,\n            -1,//no deal limit\n            this.dealEditorFormGroup.get(\"dealType\").value); \n\n            deal.restaurant = this.authService.currentUser.restaurant;\n        }else{\n            deal = new GSCard(this.dealEditorFormGroup.get(\"dealDescription\").value, \n            startDatetime,\n            endDatetime,\n            this.dealEditorFormGroup.get(\"numberOfDeals\").value,\n            this.dealEditorFormGroup.get(\"dealType\").value);\n\n            deal.restaurant = this.authService.currentUser.restaurant;\n        }\n\n        return deal;\n    }\n\n    public getDeviceIsSmall(): boolean {\n        if(this.platformReady)\n            return this.platform.width() < IonicScreenSize.Md;\n    }\n\n    public editPhotoData() {\n        if(this.isDesktop()){\n            this.uploadDesktopImage();\n        } else {\n            this.actionSheetCtrl.create({\n                title: 'Mobile Photo uploads not supported yet!',\n                buttons: [\n                    // {\n                    //     text: 'Camera',\n                    //     icon: !this.platform.is('ios') ? 'camera' : null,\n                    //     handler: () => {\n                    //         this.cameraUpload(PictureSourceType.CAMERA);\n                    //     }\n                    // },{\n                    //     text: 'Photo Library',\n                    //     icon: !this.platform.is('ios') ? 'images' : null,\n                    //     handler: () => {\n                    //         this.cameraUpload(PictureSourceType.PHOTOLIBRARY);\n                    //     }\n                    // },\n                ]\n            }).present();\n        }\n\n    }\n\n    // private cameraUpload(sourceType: PictureSourceType) {\n    //     // this.cameraService.getPhotoFromLibrary(sourceType).then((photoData) => {\n    //     //     this.imageData = photoData;\n    //     // })\n    //     sourceType; \n    // }\n\n    public isDesktop(): boolean {\n        return this.platform.is(IonicPlatform.Core);\n    }\n\n    public uploadDesktopImage() {\n        this.hiddenFileInput.nativeElement.click();\n    }\n\n    private cleanUpImageData() {\n        this.imageDataForPreview = null;\n        this.imageDataForUpload = null;\n        this.fileReader.abort();\n    }\n\n    private reportBadFields() {\n\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/deal-editor/deal-editor.component.ts","import { Injectable } from '@angular/core';\n\nimport { AngularFireStorage, AngularFireUploadTask } from 'angularfire2/storage';\n\nimport { Camera, CameraOptions } from '@ionic-native/camera';\n\n@Injectable()\nexport class UploadService {\n    constructor(public storage: AngularFireStorage,\n                private camera: Camera) { }\n\n    public captureImage(): Promise<any> {\n        const options: CameraOptions = {\n            quality: 100,\n            destinationType: this.camera.DestinationType.DATA_URL,\n            encodingType: this.camera.EncodingType.JPEG,\n            mediaType: this.camera.MediaType.PICTURE,\n            sourceType: this.camera.PictureSourceType.CAMERA\n        }\n\n        return this.camera.getPicture(options);//returns image data base 64 as string\n    }\n    \n    public uploadDealPhoto(imageData: string, fileName: string, updatePicture: boolean): AngularFireUploadTask {\n        if(updatePicture && this.storage.ref(\"/locale-deal-photos/\"+ fileName))\n            this.storage.ref(\"/locale-deal-photos/\"+ fileName).delete();\n\n        return this.storage.upload(\"/locale-deal-photos/\"+ fileName, imageData);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/uploader.service.ts","import { GSCard } from \"./deals.type\";\nimport { Restaurant } from \"./restaurant.type\";\nimport { Guid } from \"./utils.type\";\n\nexport class GSUser{\n    public uid: string;//from firebase auth\n    public firstName: string;\n    public userType: UserType;\n    public cardIds?: Guid[];\n    public restaurant?: Restaurant;\n    public cards?: GSCard[];\n    public radius?: number; \n\n    public constructor(uid: string, userType: UserType, firstName: string){\n        this.uid = uid;\n        this.userType = userType;\n        this.firstName = firstName;\n    }\n\n    public getAsPlainObject(){\n        this.restaurant = Object.assign({}, this.restaurant);\n\n        return Object.assign({}, this);\n    }\n}\n\nexport enum UserType {\n    Consumer,\n    Restaurant\n}\n\n\n// WEBPACK FOOTER //\n// ./src/types/user.type.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { ModalNavbarComponent } from './../components/modal-navbar/modal-navbar.component';\nimport { MoreCardInfoComponent } from '../components/more-card-info/more-card-info.component';\nimport { RestaurantService } from './../services/restaurant-service';\nimport { GSCardComponent } from './../components/card/card.component';\nimport { BrowserModule, HammerGestureConfig, HAMMER_GESTURE_CONFIG } from '@angular/platform-browser';\nimport { HttpModule } from '@angular/http';\nimport { AngularDraggableModule } from 'angular2-draggable';\nimport { NgModule, ErrorHandler } from '@angular/core';\n\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\n\nimport { InAppBrowser } from '@ionic-native/in-app-browser';\n\nimport { IonicStorageModule } from '@ionic/storage';\n\nimport { LocaleApp } from './app.component';\nimport { ConsumerComponent } from '../components/consumer/consumer.component';\n\nimport { SwingModule } from 'angular2-swing';\n\nimport { Dialogs } from '@ionic-native/dialogs';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { RestaurantDealMakerComponent } from '../components/restaurant-deal-maker/restaurant-deal-maker.component';\nimport { DealEditorComponent } from '../components/deal-editor/deal-editor.component';\nimport { FilterDealComponent } from '../components/filter-deals/filter-deal.component';\nimport { LaunchNavigator } from '@ionic-native/launch-navigator';\nimport { CardDataService } from '../services/card-data.service';\n\nimport { AngularFireModule } from 'angularfire2';\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\nimport { AngularFireAuthModule } from 'angularfire2/auth';\nimport { AngularFireStorageModule } from 'angularfire2/storage';\nimport { AngularFirestoreModule } from 'angularfire2/firestore';\nimport { AuthorizationService } from '../services/authorization.service';\nimport { ImageService } from '../services/image-service.service';\nimport { Camera } from '@ionic-native/camera';\nimport { UploadService } from '../services/uploader.service';\nimport { UserSignUpComponent } from '../components/user-signup/user-signup.component';\nimport { ViewControllerService } from '../services/view-controller.service';\nimport { UniqueDeviceID } from '@ionic-native/unique-device-id';\nimport { DeviceService } from '../services/device.service';\nimport { UserProfileComponent } from '../components/user-profile/user-profile.component';\nimport { ToastService } from '../services/toast.service';\nimport { BrowserHomeComponent } from '../components/browser-home/browser-home.component';\nimport { RestaurantLandingComponent } from '../components/restaurant-landing/restaurant-landing.component';\nimport { HttpClientModule } from '@angular/common/http';\nimport { RestaurantProfileComponent } from '../components/restaurant-profile/restaurant-profile.component';\nimport { DealEditorService } from '../services/deal-editing.service';\nimport { Geolocation as IonLocation } from '@ionic-native/geolocation';\n\nexport class MyHammerConfig extends HammerGestureConfig  {\n  overrides = <any>{\n      'swipe': {velocity: 1.3, threshold: 20} // override default settings,\n  }\n}\n\n@NgModule({ \n  declarations: [\n    LocaleApp,\n    ConsumerComponent,\n    RestaurantDealMakerComponent,\n    DealEditorComponent,\n    FilterDealComponent,\n    UserSignUpComponent,\n    UserProfileComponent,\n    BrowserHomeComponent,\n    RestaurantLandingComponent,\n    RestaurantProfileComponent,\n    GSCardComponent,\n    MoreCardInfoComponent,\n    ModalNavbarComponent\n  ],\n  imports: [\n    BrowserModule,\n    HttpModule,\n    SwingModule,\n    AngularDraggableModule,\n    IonicStorageModule.forRoot(),\n    IonicModule.forRoot(LocaleApp, {}, {\n      links: [\n      ]\n    }),\n    IonicStorageModule.forRoot(),\n    AngularFireDatabaseModule,\n    AngularFireModule.initializeApp({\n      apiKey: \"AIzaSyCbyIgW7iO9OrPoK9Ozr6EsOGrdN8v9HKo\",\n      authDomain: \"locale-4112a.firebaseapp.com\",\n      databaseURL: \"https://locale-4112a.firebaseio.com\",\n      projectId: \"locale-4112a\",\n      storageBucket: \"locale-4112a.appspot.com\",\n      messagingSenderId: \"9042973249\"\n    }),\n    AngularFireAuthModule,\n    AngularFireStorageModule,\n    AngularFirestoreModule,     \n    HttpClientModule,\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    LocaleApp,\n    RestaurantDealMakerComponent,\n    DealEditorComponent,\n    FilterDealComponent,\n    UserSignUpComponent,\n    UserProfileComponent,\n    BrowserHomeComponent,\n    RestaurantLandingComponent,\n    RestaurantProfileComponent,\n    GSCardComponent,\n    MoreCardInfoComponent,\n    ModalNavbarComponent\n  ],\n  providers: [\n    { provide: ErrorHandler, useClass: IonicErrorHandler },\n    InAppBrowser,\n    { \n      provide: HAMMER_GESTURE_CONFIG, \n      useClass: MyHammerConfig \n    },\n    Dialogs,\n    StatusBar,\n    LaunchNavigator,\n    CardDataService,\n    AuthorizationService,\n    ImageService,\n    Camera,\n    UploadService,\n    ViewControllerService,\n    UniqueDeviceID,\n    DeviceService,\n    ToastService,\n    DealEditorService,\n    IonLocation,\n    RestaurantService\n  ]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, Input } from \"@angular/core\";\nimport { ToastService } from \"../../services/toast.service\";\nimport { DeviceService } from \"../../services/device.service\";\nimport { ViewController } from \"ionic-angular\";\nimport { ViewControllerService } from '../../services/view-controller.service';\nimport { LoginKeys } from '../../services/login-keys.service';\n\n@Component({\n    templateUrl: './modal-navbar.component.html',\n    selector: 'modal-navbar',\n    styleUrls: ['/modal-navbar.component.scss']\n})\nexport class ModalNavbarComponent{ \n    @Input() profileModal: boolean;\n    @Input() restaurntModal: boolean;\n\n    constructor(private toastService: ToastService, private ionicViewController: ViewController, \n        private deviceService: DeviceService,\n        private viewControllerService: ViewControllerService) {\n\n            //this.restaurntModal = this.params.get(\"restaurntModal\");\n            //this.profileModal = this.params.get(\"profileModal\");\n    }\n\n    public logout(){\n        const toast = this.toastService.showReadableAndAnswerableOkayToast(\"Are you sure you want to log out?\");\n\n        toast.onDidDismiss((data, dismissType) => {\n            data;\n            if(dismissType == \"close\"){\n                if(this.restaurntModal){\n                    this.deviceService.putSetting(LoginKeys.rememberMeRestKey, false);\n\n                    this.viewControllerService.setBrowserHome();\n                } else {\n                    this.deviceService.putSetting(LoginKeys.rememberMeUserKey, false);\n\n                    this.viewControllerService.setSignUpView();\n                }\n\n                this.ionicViewController.dismiss();\n            }\n        });\n\n        toast.present();\n    }\n\n    public closeProfile(){\n        this.ionicViewController.dismiss();\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/modal-navbar/modal-navbar.component.ts","export class LoginKeys {\n    public static rememberMeUserKey = \"rememberMeUser\";//dont change this unless you want to change the other one is user-signup\n    public static rememberMeRestKey = \"rememberMeRest\";//this either\n    public static userEmailPasswordComboKey = \"userEmailCombo\";\n    public static restEmailPasswordComboKey = \"restEmailCombo\";\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/login-keys.service.ts","import { Injectable } from '@angular/core';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { AngularFirestore, AngularFirestoreCollection } from 'angularfire2/firestore';\nimport { GSUser } from '../types/user.type';\nimport { Observable } from 'rxjs/Observable';\nimport { ToastService } from './toast.service';\nimport { CardDataService } from './card-data.service';\nimport { GSCard } from '../types/deals.type';\n\n@Injectable()\nexport class AuthorizationService {\n    public userCollection: AngularFirestoreCollection<GSUser>;\n\n    public currentUser: GSUser;\n\n    constructor(public fireAuth: AngularFireAuth, private database: AngularFirestore, \n        private toastService: ToastService, private cardService: CardDataService) { \n        this.userCollection = this.database.collection<GSUser>(\"users\");\n    }\n\n    public checkCurrentUserType(): Observable<GSUser[]>{\n        if(this.currentUser){\n            return Observable.create(observer => {\n                observer.next([this.currentUser]);\n                observer.complete();\n            });\n        }\n        else if(this.fireAuth.auth.currentUser)\n            return this.getCurrentUserData();\n        else\n            return null;\n    }\n\n    public checkUserIsLoggedIn(): boolean{\n        if(this.currentUser && this.fireAuth.auth.currentUser)\n            return true;\n        else\n            return false;\n    }\n\n    public userSignOut() {\n        this.currentUser = null;\n\n        //this.fireAuth.auth.signOut();//AAHHH this needs to be here but the current verison of Firestore causes this to break.\n                                        //this won't affect functionality but should be here for security\n    }\n\n    public signIn(email: string, password: string): Promise<any> {\n        return this.fireAuth.auth.signInWithEmailAndPassword(email, password);\n    }\n\n    public signUpUser(email: string, password: string):  Promise<any>{\n        return this.fireAuth.auth.createUserWithEmailAndPassword(email, password);\n    }\n\n    public checkUserSignInMethods(email: string): Promise<any> {\n        return this.fireAuth.auth.fetchSignInMethodsForEmail(email);\n    }\n\n    public getCurrentUserData(): Observable<GSUser[]> {\n        return this.database.collection<GSUser>(\"users\", ref => ref.where(\"uid\", '==', this.fireAuth.auth.currentUser.uid)).valueChanges();\n    }\n\n    /**\n     * Only use this when passing a user you don't care about\n     * Data in the user will be changed for worse!\n     * \n     * We don't wanna save all the cards, they are saved in a seperate collection,\n     * but I want to still have users \"have cards\"\n     * \n     * Restaurant users have cards that they created, and consumer users have cards that have\n     * \"consumed\" or intend to use\n     * @param user \n     */\n    public updateUserInDatabase(user: GSUser): Promise<any>{\n        if(this.checkUserIsLoggedIn() && this.userCollection){\n            user.cards = null;\n\n            if(user.getAsPlainObject)\n                return this.userCollection.doc(user.uid).set(user.getAsPlainObject());\n            else\n                return this.userCollection.doc(user.uid).set(user);\n        } else\n            this.toastService.showReadableToast(\"User not updated! You are either not logged in or offline\");\n\n        return null;\n    }\n\n    public addCardIdToCurrentUser(cardId: string) {\n        if(this.currentUser.cardIds == null)\n            this.currentUser.cardIds = [];\n\n        this.currentUser.cardIds.push(cardId);\n\n        this.updateUserInDatabase(Object.assign({}, this.currentUser)).then(() => {\n            this.generateCardsFromIds();\n        });\n    }\n\n    public generateCardsFromIds(): void {\n        this.cardService.getCardsById(this.currentUser.cardIds).subscribe((obDeal: Observable<GSCard[]>) => {\n            obDeal.subscribe((deals: GSCard[]) => {\n                for(let deal of deals){\n                    if(!this.currentUser.cards){\n                        this.currentUser.cards = [];\n\n                        const newCardFromJSON = new GSCard(null, null, null, null, null, deal);\n\n                        this.currentUser.cards.push(newCardFromJSON);\n                    } else\n                        this.findAndUpdateCards(deals, this.currentUser.cards);\n                }\n            });\n        });\n    }\n\n    public removeUserCardFromCurrentListById(id: string) {\n        const currentUserCardsIndex = this.currentUser.cards.findIndex((value, index, deals) => {\n            value;\n            return deals[index].id == id;\n        });\n        const currentUserId = this.currentUser.cardIds.findIndex((value, index, deals) => {\n            index;deals;\n            return value == id;\n        });\n\n        this.currentUser.cards.splice(currentUserCardsIndex, 1);\n        this.currentUser.cardIds.splice(currentUserId, 1);\n    }\n\n    private updateDealModel(objectToUpdate: GSCard, updatedObject: GSCard): void{\n        objectToUpdate.dealDescription = updatedObject.dealDescription;\n        objectToUpdate.dealEnd = updatedObject.dealEnd;\n        objectToUpdate.dealStart = updatedObject.dealStart;\n        objectToUpdate.dealEnd = updatedObject.dealEnd;\n        objectToUpdate.dealType = updatedObject.dealType;\n        objectToUpdate.numberOfDeals = updatedObject.numberOfDeals;\n        objectToUpdate.restaurant = updatedObject.restaurant;\n    }\n\n    public findAndUpdateCards(newDealModels: GSCard[], oldDealModels: GSCard[]){\n        newDealModels.forEach((dealModel) => {\n            var foundCard = oldDealModels[oldDealModels.findIndex(c => c.id == dealModel.id)];\n\n            if(foundCard){\n                this.updateDealModel(foundCard, dealModel);\n\n                var foundViewCard = oldDealModels[oldDealModels.findIndex(c => c.id == dealModel.id)]; \n                \n                if(foundViewCard)\n                    this.updateDealModel(foundViewCard, dealModel);\n            }\n            else\n                oldDealModels.push(dealModel);\n        });\n    }\n}\n\nexport enum SignUpReturnCode{\n    UserAlreadySignedUp,\n    Success,\n    Failure\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/authorization.service.ts","import { Injectable } from \"@angular/core\";\nimport { ToastController, Toast } from \"ionic-angular\";\n\n@Injectable()\nexport class ToastService {\n\n    constructor(public toastCtrl: ToastController) { \n\n    }\n\n    public showReadableToast(message: string): void{\n        const wordTime = this.calculateReadTime(message);\n\n        let toast = this.toastCtrl.create({\n            message: message,\n            duration: wordTime,\n            position: \"bottom\"\n        });\n\n        toast.present();\n    }\n\n    public showReadableAndAnswerableOkayToast(message: string): Toast{\n        let wordTime = this.calculateReadTime(message);\n        \n        wordTime *= 2;\n\n        let toast: Toast = this.toastCtrl.create({\n            message: message,\n            duration: wordTime,\n            position: \"bottom\",\n            showCloseButton: true,\n            closeButtonText: \"OK\"\n        });\n\n        return toast;\n    }\n\n    private calculateReadTime(message: string): number{\n        const wordCount = message.split(\" \").length;\n\n        const wordsPerMinute = 210;//resonable words per minute someone can read on a computer\n\n        const wordTime = ((wordCount/wordsPerMinute) *\n                            (60*1000)) +//convert to milliseconds\n                            1500;//delay to see the notification toast;\n\n        return wordTime;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/toast.service.ts","import { GSCard } from './../../types/deals.type';\nimport { Component, Input } from \"@angular/core\";\nimport { ImageService } from '../../services/image-service.service';\n\n@Component({\n    templateUrl: './card.component.html',\n    selector: 'gs-card',\n    styleUrls: ['/card.component.scss']\n})\nexport class GSCardComponent {\n    @Input()\n    set card(card: GSCard) {\n        if(card) {\n            this._card = card;\n            this.imageService.setDealImageURL(this.card);\n        } else\n            this._card = GSCard.getBlankCard();\n\n    }\n    get card(): GSCard {\n        return this._card;\n    }\n\n    @Input()   \n    set imageSrc(imageSrc) {\n        this._imageSrc = imageSrc;\n    \n        if(!this._card)\n            this._card = GSCard.getBlankCard();\n\n        this._card.imageURL = imageSrc;\n    };\n    get imageSrc() {\n        return this._imageSrc;\n    }\n\n    @Input() showCardText: boolean = true;\n\n    private _card: GSCard;\n    private _imageSrc;\n\n    constructor(private imageService: ImageService) {\n        this._card = GSCard.getBlankCard();\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/card/card.component.ts","export class Guid {\n    static newGuid(): string {\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n            var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\n            return v.toString(16);\n        });\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/types/utils.type.ts","import { Component } from '@angular/core';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { AuthorizationService } from '../services/authorization.service';\nimport { ViewControllerService } from '../services/view-controller.service';\nimport { Platform } from 'ionic-angular';\n\n@Component({\n  templateUrl: 'app.template.html'\n})\n\nexport class LocaleApp {\n\n  constructor(private statusBar: StatusBar, private auth: AuthorizationService, \n    private viewControl: ViewControllerService, public platform: Platform) {\n\n    if(this.platform.is(\"core\")){\n      this.viewControl.setBrowserHome();\n    }else{\n      this.statusBar.overlaysWebView(false);\n      this.statusBar.backgroundColorByName(\"black\");\n  \n      if(!this.auth.checkUserIsLoggedIn()){\n        this.viewControl.setSignUpView();\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { GSLocation } from './../../types/location.type';\nimport { Component, ViewChild, ViewChildren, QueryList, AfterViewInit, OnDestroy } from '@angular/core';\nimport {\n    StackConfig,\n    SwingStackComponent,\n    SwingCardComponent,\n    Direction} from 'angular2-swing';\nimport { AlertController, PopoverController, ModalController } from 'ionic-angular';\nimport { FilterDealComponent } from '../filter-deals/filter-deal.component';\nimport { LaunchNavigator } from '@ionic-native/launch-navigator';\nimport { CardDataService } from '../../services/card-data.service';\nimport { AuthorizationService } from '../../services/authorization.service';\nimport { ImageService } from '../../services/image-service.service';\nimport { GSCard, DealType } from '../../types/deals.type';\nimport { Subscription } from 'rxjs/Subscription';\nimport { UserProfileComponent } from '../user-profile/user-profile.component';\nimport { ToastService } from '../../services/toast.service';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { MoreCardInfoComponent } from '../more-card-info/more-card-info.component';\n\n@Component({\n    templateUrl: './consumer.component.html',\n    selector: 'consumer',\n    styleUrls: ['/consumer.component.scss']\n})\nexport class ConsumerComponent implements AfterViewInit, OnDestroy{\n    @ViewChild('myswing1') swingStack: SwingStackComponent;\n    @ViewChildren('mycards1') swingCards: QueryList<SwingCardComponent>;\n\n    public transitionString: string = \"\";\n\n    public numberOfCards = 3;\n\n    public restaurantViewCards: GSCard[];// = new Array<DealModel>(this.numberOfCards);\n    public filteredCards: GSCard[];\n\n    public stackConfig: StackConfig;\n\n    public destoryingCard: boolean = false;\n  \n    private moveCardIndex: number = 0;\n    private viewCardIndex: number;\n\n    private likingCard: boolean = false;\n\n    private animatingCard: boolean = false;\n\n    public currentFilter: DealType = null;\n\n    public cards: GSCard[];\n\n    public cardSubscription: Subscription;\n\n    public currentLocation: GSLocation = new GSLocation();\n\n    constructor (private alert: AlertController, private popoverCtrl: PopoverController, private toastService: ToastService,\n        private launchNavigator: LaunchNavigator, private cardService: CardDataService, private authService: AuthorizationService, \n        private imageService: ImageService, private modalCtrl: ModalController, private geolocation: Geolocation) {\n        this.stackConfig = {\n            throwOutConfidence: (offsetX, offsetY, element) => {\n                const throwoutHorizontal = Math.abs(offsetX) / (element.offsetWidth/2.75);\n                const throwoutVertical = Math.abs(offsetY) / (element.offsetHeight/4.5);\n\n                 return Math.min(1, \n                    Math.sqrt((throwoutHorizontal * throwoutHorizontal) + (throwoutVertical * throwoutVertical)));//pythag\n            },\n            transform: (element, x, y, r) => {\n                this.onItemMove(element, x, y, r);\n            },\n            throwOutDistance: () => {\n                return 50;\n            },      \n            allowedDirections: [Direction.UP, Direction.LEFT, Direction.RIGHT],\n        };\n    }\n    \n    public ngAfterViewInit(): void {\n        if(this.authService.checkUserIsLoggedIn){\n            this.geolocation.watchPosition().subscribe((resp) => {\n                this.currentLocation.lat = resp.coords.latitude;\n                this.currentLocation.lng = resp.coords.longitude;\n\n                this.cardSubscription = this.cardService.getCardsByLatLng(this.currentLocation, 1000000).subscribe((cardModels) => {\n                    if(cardModels.length > 0) {\n                        if(!this.cards){\n                            this.cards = this.cardService.filterNonDuplicateDeals(cardModels as GSCard[]);\n            \n                            this.filterCards(this.currentFilter);\n                        }\n                        else\n                            this.authService.findAndUpdateCards(this.restaurantViewCards, cardModels as GSCard[]);\n                    }\n                });\n            }, (error) => {\n                this.toastService.showReadableToast(\"We could not find you location, please contact support. \" + error);\n            });\n        }\n        else\n            console.error(\"User not logged in when he should be!\");\n    }\n\n    public ngOnDestroy(): void {\n        this.cardSubscription.unsubscribe();\n    }\n\n    public onItemMove(element, x, y, r): void {\n        element.style['transform'] = `translate3d(0, 0, 0) translate(${x}px, ${y}px) rotate(${r}deg)`;\n    }\n\n    public voteUp(like: boolean): void {\n        if(this.restaurantViewCards.length > 0){\n            this.transitionString = \"all 0.25s\";\n\n            if(like){\n                if(!this.likingCard){\n                    this.likingCard = true;\n    \n                    this.swingCards.toArray()[this.moveCardIndex].getElementRef().nativeElement.style['transform'] = `translate3d(0, 0, 0) translate(1100px, 0px) rotate(40deg)`;\n    \n                    this.handleCard(like);\n                }\n            }\n            else{\n                this.handleCard(like);\n                \n                this.swingCards.toArray()[this.moveCardIndex].getElementRef().nativeElement.style['transform'] = `translate3d(0, 0, 0) translate(-1100px, 0px) rotate(40deg)`;\n            }\n        }\n    }\n\n    public moreInfo(): void {\n        const cardSwipedUp = this.restaurantViewCards.shift();\n\n        this.modalCtrl.create(MoreCardInfoComponent, {card: cardSwipedUp}).present().then(() => {\n            this.restaurantViewCards.unshift(cardSwipedUp);\n        });\n    }\n\n    public clickLike(): void {\n        if(this.restaurantViewCards.length > 0 && !this.likingCard && !this.animatingCard){\n           this.transitionString = \"all 0.75s\";\n\n            this.likingCard = true;\n\n            this.animatingCard = true;\n\n            this.swingCards.toArray()[this.moveCardIndex].getElementRef().nativeElement.style['transform'] = `translate3d(0, 0, 0) translate(1100px, 0px) rotate(40deg)`;\n            \n            this.delay(300).then(() => {\n                this.handleCard(true);\n\n                this.animatingCard = false;\n            });\n        }\n    }\n\n    public clickNo(): void {\n        if(this.restaurantViewCards.length > 0 && !this.animatingCard){\n            this.transitionString = \"all 0.75s\";\n\n            this.animatingCard = true;\n\n            this.swingCards.toArray()[this.moveCardIndex].getElementRef().nativeElement.style['transform'] = `translate3d(0, 0, 0) translate(-1100px, 0px) rotate(-40deg)`;\n            \n            this.delay(300).then(() => {\n                this.handleCard(false);\n\n                this.animatingCard = false;\n            });\n        }\n    }\n\n    public openDealTypePopover(event){\n        var filterPopover = this.popoverCtrl.create(FilterDealComponent);\n\n        filterPopover.onDidDismiss((data: string) => {\n            this.currentFilter = DealType[data];\n\n            this.filterCards(DealType[data]);\n        });\n\n        filterPopover.present({\n            ev: event,\n        });\n    }\n\n    private handleCard(like: boolean){\n        if(like){\n            const poppedCard = this.popCard();\n\n            this.popLikeAlert(poppedCard);\n\n            if(!this.authService.currentUser.cardIds) \n                this.authService.currentUser.cardIds = [];\n\n            this.authService.addCardIdToCurrentUser(poppedCard.id);\n        }\n        else\n            this.popCard();\n\n        this.transitionString = \"\";\n    }\n\n    private popLikeAlert(card: GSCard): void{\n        let likeAlert = this.alert.create({\n            buttons:[\n                {\n                    text: 'Share',\n                    role: 'share',\n                    handler: () => {\n                        console.log('Share');\n                    }\n                },\n                {\n                    text: 'Go',\n                    role: 'go',\n                    handler: () => {\n                        this.launchNavigator.navigate(card.restaurant.address);\n                    }\n                },\n                {\n                    text: 'Ok',\n                    role: 'close',\n                }\n            ],\n            title: \"You are going to \" + card.restaurant.name + \"!\",\n            subTitle: \"Your deal code is: \" + this.randomNumber(),\n            message: \"Bring this code to \" + card.restaurant.name + \" and show it when you sit down. Remember, your deal is: \" + card.dealDescription + \". Have fun!\"\n        });\n\n        likeAlert.present().then(() => { \n            this.likingCard = false; \n        });\n    }\n\n    private popCard(): GSCard{\n        var poppedCard = this.restaurantViewCards.shift();\n        this.addCardToStack();\n        \n        return poppedCard;\n    }\n\n    private filterCards(type: DealType){\n        this.restaurantViewCards = new Array<GSCard>();\n        this.filteredCards = new Array<GSCard>();\n        if(type || type == 0){\n            this.filteredCards = this.cards.filter((card) => {\n                return card.dealType == type;\n            });\n        }\n        else\n            this.filteredCards = this.cards;\n\n        this.setUpViewCards();  \n\n        this.delay(600).then(() => {//this sucks\n            const topCard = this.swingCards.toArray()[0];\n\n            if(topCard)\n                topCard.getElementRef().nativeElement.style['transform'] = `translate3d(0, 0, 0) translate(0px, 0px) rotate(0deg)`;\n        });\n    }\n\n    private addCardToStack(){\n        if(this.viewCardIndex < this.filteredCards.length){\n            var nextCard = this.filteredCards[this.viewCardIndex];\n\n            this.imageService.setDealImageURL(nextCard);\n\n            this.restaurantViewCards.push(nextCard);\n\n            this.viewCardIndex++;\n\n            for(var i = 0; i < this.swingCards.toArray.length; i++){\n                this.swingCards.toArray()[i].getElementRef().nativeElement.style['transform'] = `translate3d(0, 0, 0) translate(0px, 0px) rotate(0deg)`;\n            }\n        }\n    }\n\n    private setUpViewCards(){\n        this.viewCardIndex = this.numberOfCards;\n\n        for(var i: number = 0; i < this.numberOfCards; i++){\n            this.imageService.setDealImageURL(this.filteredCards[i]);\n\n            this.restaurantViewCards.push(this.filteredCards[i]);\n        }\n    }\n\n    //used simply to async wait for something\n    private delay(ms: number) {\n        return new Promise(resolve => setTimeout(resolve, ms));\n    }\n\n    private randomNumber(): string{\n        return String(Math.floor(1000 + Math.random() * 9000));\n    }\n\n    public openProfile(){\n        this.modalCtrl.create(UserProfileComponent, {isRestaurant: false}).present(); \n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/consumer/consumer.component.ts","import { Injectable } from \"@angular/core\";\n\n@Injectable()\nexport class ViewControllerService {\n    public dealMaker: Boolean = false;\n    public consumer: Boolean = false;\n    public signUp: Boolean = false;\n    public browserHome: Boolean = false;\n    public restaurantLanding: Boolean = false;\n    public restaurantHome: Boolean = false;\n\n    constructor() {\n    }\n\n    public setConsumerView(){\n        this.dealMaker = false;\n        this.consumer = true;\n        this.signUp = false;\n        this.browserHome = false;\n        this.restaurantLanding = false;\n        this.restaurantHome = false;\n    }\n\n    public setDealMakerView(){\n        this.dealMaker = true;\n        this.consumer = false;\n        this.signUp = false;\n        this.browserHome = false;\n        this.restaurantLanding = false;\n        this.restaurantHome = false;\n    }\n\n    public setSignUpView(){\n        this.dealMaker = false;\n        this.consumer = false;\n        this.signUp = true;\n        this.browserHome = false;\n        this.restaurantLanding = false;\n        this.restaurantHome = false;\n    }\n\n    public setBrowserHome(){\n        this.dealMaker = false;\n        this.consumer = false;\n        this.signUp = false;\n        this.browserHome = true;\n        this.restaurantLanding = false;\n        this.restaurantHome = false;\n    }\n\n    public setRestaurantPortal(){\n        this.dealMaker = false;\n        this.consumer = false;\n        this.signUp = false;\n        this.browserHome = false;\n        this.restaurantLanding = true;\n        this.restaurantHome = false;\n    }\n\n    public setRestaurantHome(){\n        this.dealMaker = false;\n        this.consumer = false;\n        this.signUp = false;\n        this.browserHome = false;\n        this.restaurantLanding = false;\n        this.restaurantHome = true;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/view-controller.service.ts","import { DealEditorService } from './../../services/deal-editing.service';\nimport { Component } from \"@angular/core\";\nimport { AuthorizationService } from \"../../services/authorization.service\";\nimport { GSCard } from '../../types/deals.type';\nimport { UserProfileComponent } from '../user-profile/user-profile.component';\nimport { ModalController } from 'ionic-angular';\n\n@Component({\n    templateUrl: './restaurant-deal-maker.component.html',\n    selector: 'restaurant-deal-maker',\n    styleUrls: ['/restaurant-deal-maker.component.scss']\n})\nexport class RestaurantDealMakerComponent{\n    public currentCard: GSCard;\n\n    public constructor(public authService: AuthorizationService, public dealEditorService: DealEditorService,\n        private modalCtrl: ModalController){\n        this.authService.generateCardsFromIds();\n\n        this.dealEditorService.currentDealSubject.subscribe((deal: GSCard) => {\n            this.currentCard = deal;\n        });\n    }\n\n    public hasCards(): boolean {\n        return this.authService.currentUser \n        && this.authService.currentUser.cards \n        && this.authService.currentUser.cards.length > 0;\n    }\n\n    public setCurrentCard(deal: GSCard){\n        if(this.currentCard != deal && deal != null){\n            this.currentCard = deal;\n        \n            this.dealEditorService.setCurrentDeal(this.currentCard);\n        }\n        else{\n            this.currentCard = null;\n\n            this.dealEditorService.setCurrentDeal(null);\n        }\n    }\n\n    public getBackground(deal) {\n        if(this.currentCard && deal.id == this.currentCard.id)\n            return \"selected-item\";\n        else \n            return \"selectable-item\";\n    }\n\n    public openProfile(){\n        this.modalCtrl.create(UserProfileComponent, {isRestaurant: true}).present(); \n    }\n}\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/restaurant-deal-maker/restaurant-deal-maker.component.ts","//Ionic screen sizes by pixel size\n//See https://ionicframework.com/docs/api/components/grid/Grid/\nexport enum IonicScreenSize {\n    Xs = 0,\n    Sm = 576,\n    Md = 768,\n    Lg = 992,\n    Xl = 1200\n}\n\n\n// WEBPACK FOOTER //\n// ./src/enums/ionic-screen-sizes.enum.ts","//describes what device ionic is running on\n//see https://ionicframework.com/docs/api/platform/Platform/#is\nexport enum IonicPlatform {\n    Android = \"android\",\n    Cordova = \"cordova\",\n    Core = \"core\",//running on desktop\n    Ios = \"ios\",\n    Ipad = \"Ipad\",\n    Iphone = \"Iphone\",\n    Mobile = \"Mobile\",\n    MobileWeb = \"mobileweb\",\n    Phablet = \"phablet\",\n    Tablet = \"tablet\",\n    Windows = \"windows\"\n}\n\n\n// WEBPACK FOOTER //\n// ./src/enums/ionic-platform.enum.ts","import { Component, ViewChild, ElementRef, AfterViewInit } from \"@angular/core\";\nimport { Validators, FormBuilder, FormGroup } from \"@angular/forms\";\nimport { AuthorizationService } from \"../../services/authorization.service\";\nimport { ViewControllerService } from \"../../services/view-controller.service\";\nimport { GSUser, UserType } from '../../types/user.type';\nimport { DeviceService, EmailPasswordTuple } from \"../../services/device.service\";\nimport { ToastService } from \"../../services/toast.service\";\n\nconst userEmailPasswordComboKey = \"userEmailCombo\";\nconst rememberMeUserKey = \"rememberMeUser\";\n\n@Component({\n    templateUrl: './user-signup.component.html',\n    selector: 'user-signup',\n    styleUrls: ['/user-signup.component.scss']\n})\nexport class UserSignUpComponent implements AfterViewInit{\n    @ViewChild('welcomeScreen') welcomeScreen: ElementRef;\n    @ViewChild('logInScreen') logInScreen: ElementRef;\n    @ViewChild('userSignUpFields') userSignUpScreen: ElementRef;\n    @ViewChild('goBackButton') goBackButton;\n\n    public userSignUpGroup: FormGroup;\n    public userLogInGroup: FormGroup;\n\n    public signingUp: boolean = true;\n\n    public isRest: boolean = false;\n\n    public attemptingSignup: boolean = false;\n    public attemptingLogin: boolean = false;\n\n    public remembered = false;\n\n    public constructor(private formBuilder: FormBuilder, private auth: AuthorizationService, \n        private viewControl: ViewControllerService, private deviceService: DeviceService, \n        public toastService: ToastService){\n        this.userSignUpGroup = this.formBuilder.group({\n            email: ['', Validators.compose([Validators.email, Validators.required])],\n            password: ['', Validators.compose([Validators.minLength(8), Validators.maxLength(64), Validators.pattern('[a-zA-Z0-9]*')])],\n            confirmPassword: ['', Validators.compose([Validators.minLength(8), Validators.maxLength(64), Validators.pattern('[a-zA-Z0-9]*')])],\n            name: [''],\n            rememberMe: ['']\n        });\n\n        this.userLogInGroup = this.formBuilder.group({\n            email: ['', Validators.compose([Validators.email, Validators.required])],\n            password: ['', Validators.compose([Validators.minLength(8), Validators.maxLength(64), Validators.pattern('[a-zA-Z0-9]*')])],\n            rememberMe: ['']\n        });\n    }\n\n    ngAfterViewInit(): void {//bit of a hack, bit it is for security \n        if(this.auth.checkUserIsLoggedIn()){//user is logged in, possibly from switching screens\n            this.auth.userSignOut();\n        }\n\n        this.deviceService.getSetting(rememberMeUserKey).then((rememberMe: boolean) => {\n            if(rememberMe){\n                this.deviceService.getUserEmailPasswordFromLocalStorage(userEmailPasswordComboKey).then((emailPasswordTup: EmailPasswordTuple) => {\n                    if(emailPasswordTup){\n                        this.userLogInGroup.get(\"email\").setValue(emailPasswordTup.email);\n                        this.userLogInGroup.get(\"password\").setValue(emailPasswordTup.password);\n        \n                        this.login();\n                    }\n                });\n            }\n        });\n    }\n\n    public signUp(): void{\n        if(this.userSignUpGroup.valid){\n            this.toastService.showReadableToast(\"Signing you up...welcome!\");\n\n            const email: string = this.userSignUpGroup.get(\"email\").value;\n            const password: string = this.userSignUpGroup.get(\"password\").value;\n            const confrimPassword: string = this.userSignUpGroup.get(\"confirmPassword\").value;\n            const firstName: string = this.userSignUpGroup.get(\"name\").value;\n\n            if(password == confrimPassword)\n            {\n                var userType: UserType = UserType.Consumer;\n    \n                this.auth.checkUserSignInMethods(email).then((methods) => {\n                    if(!methods || methods.length < 1){//if user not in db\n                        this.attemptingSignup = true;\n                        this.auth.signUpUser(email, password).then(() => {\n                            this.auth.signIn(email, password).then(() => {\n                                this.handleRememberMe(this.userSignUpGroup);\n\n                                const newUser = new GSUser(this.auth.fireAuth.auth.currentUser.uid, userType, firstName);\n            \n                                this.auth.currentUser = newUser;\n            \n                                this.auth.userCollection.doc(newUser.uid).set(newUser.getAsPlainObject());\n\n                                this.setAppropiateView();\n            \n                            }).catch((reason) => {//couldn't sign in \n                                this.toastService.showReadableToast(\"Sorry, that didn't work beacuase \" + reason);\n\n                                console.error(\"Sign up failed because: \" + reason);\n                            });\n                        }).catch((reason) => {//couldn't sign up\n                            this.toastService.showReadableToast(\"Sorry, that didn't work beacause \" + reason);\n\n                            console.error(\"Sign up failed because: \" + reason);\n                        });\n                    }\n                    else{\n                        this.toastService.showReadableToast(\"Sorry, that email is already signed up.\");\n\n                        console.error(\"User account already exists\");//user account already exists\n                    }\n                }).catch((reason) => {//couldn't check sign in methods\n                    this.toastService.showReadableToast(\"Sorry, that didn't work, please contact support.\");\n\n                    console.error(\"Sign up failed because: \" + reason);\n                });\n            }\n            else{\n                this.toastService.showReadableToast(\"Please make sure your passwords match.\");\n\n                console.error(\"Passwords do not match\");\n            }\n        }\n        else{\n            var display: string = \"\";\n\n            if(this.userSignUpGroup.get(\"email\").invalid)\n                display += \"Please be sure your email is formatted correctly. \";\n\n            if(this.userSignUpGroup.get(\"password\").invalid)\n                display += \"Please be sure your password is at least eight characters long and both passwords match. \";\n\n            this.toastService.showReadableToast(display);\n\n            console.error(\"Fields are invalid\");\n        }\n    }\n    \n    public loginHandler(): void{\n        this.handleRememberMe(this.userLogInGroup);\n\n        this.login();\n    }\n\n    public login(): void{\n        if(this.userLogInGroup.valid){\n            this.toastService.showReadableToast(\"Logging you in...welcome back!\");\n\n            const email = this.userLogInGroup.get(\"email\").value;\n\n            this.auth.checkUserSignInMethods(email).then((methods) => {\n                if(methods.length > 0){//if user not in db\n                    this.auth.signIn(email, this.userLogInGroup.get(\"password\").value,).then(() => {\n                        this.auth.getCurrentUserData().subscribe((users: GSUser[]) => {\n                            this.auth.currentUser = users[0];//there SHOULD be only one\n\n                            this.setAppropiateView();\n                        });\n                    }).catch((reason) => {\n                        this.toastService.showReadableToast(\"Double check your password\");\n\n                        console.error(\"Sign in didn't work because: \" + reason);\n                    });\n                }\n                else{\n                    this.toastService.showReadableToast(\"Sorry, we dont have that username signed up. Please sign up.\");\n\n                    console.error(\"User does not exist!\");\n                }\n            }).catch((reason) => {\n                this.toastService.showReadableToast(\"Sign in didn't work because: \" + reason);\n\n                console.error(\"User does not exist!\");\n            });\n        }\n        else{\n            var display: string = \"\";\n\n            if(this.userLogInGroup.get(\"email\").invalid)\n                display += \"Please be sure your email is formatted correctly. \";\n\n            if(this.userLogInGroup.get(\"password\").invalid)\n                display += \"Please be sure your password is at least eight characters long. \";\n\n            this.toastService.showReadableToast(display);\n\n            console.error(\"Fields are invalid\");\n        }\n    }\n\n    public setAppropiateView(): void {\n        if(this.auth.checkCurrentUserType()){\n            this.auth.checkCurrentUserType().subscribe((users: GSUser[]) => {\n                if(users[0].userType == UserType.Restaurant)\n                    this.viewControl.setDealMakerView();\n                else\n                    this.viewControl.setConsumerView();\n            })\n        }\n    }\n\n    public handleRememberMe(formGroup: FormGroup){\n        const rememberMe: boolean = formGroup.get(\"rememberMe\").value;\n\n        this.deviceService.putSetting(rememberMeUserKey, rememberMe);\n\n        if(rememberMe)\n            this.deviceService.putUserEmailPasswordToLocalStorage(userEmailPasswordComboKey, formGroup.get(\"email\").value, formGroup.get(\"password\").value);\n    }\n\n    public resetPassword(): void {\n        const emailControl = this.userLogInGroup.get(\"email\");\n\n        if(emailControl.valid){\n            this.auth.checkUserSignInMethods(emailControl.value).then((methods) => {\n                if(methods.length > 0){\n                    this.auth.fireAuth.auth.sendPasswordResetEmail(emailControl.value).then(() => {\n                        this.toastService.showReadableToast(\"Cool, a reset link was sent to your email.\");\n                    }).catch((reason) => {\n                        this.toastService.showReadableToast(\"Sorry, couldn't send you a reset link because: \" + reason)\n                    });\n                }\n                else\n                    this.toastService.showReadableToast(\"We don't have that email signed up. Please sign up!\");\n            })\n        }\n        else{\n            this.toastService.showReadableToast(\"Please check your email is valid\");\n        }\n    }\n\n    /**\n     * Ugly css animations\n     */\n    public goToUserSignUpScreen(): void {\n        this.welcomeScreen.nativeElement.style['left'] = \"-100%\";\n        this.userSignUpScreen.nativeElement.style['left'] = \"0%\";\n        this.goBackButton.nativeElement.style['bottom'] = \"2%\";\n    }\n\n    public goToLoginScreen(): void {\n        this.welcomeScreen.nativeElement.style['left'] = \"-100%\";\n        this.logInScreen.nativeElement.style['left'] = \"0%\";\n        this.goBackButton.nativeElement.style['bottom'] = \"2%\";\n    }\n\n    public goBackAScreen(): void {\n        this.welcomeScreen.nativeElement.style['left'] = \"0%\";\n        this.logInScreen.nativeElement.style['left'] = \"100%\";\n        this.userSignUpScreen.nativeElement.style['left'] = \"100%\";\n        this.goBackButton.nativeElement.style['bottom'] = \"-10%\";\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/user-signup/user-signup.component.ts","import { Component } from \"@angular/core\";\nimport { ViewControllerService } from \"../../services/view-controller.service\";\n\n@Component({\n    templateUrl: './browser-home.component.html',\n    selector: 'browser-home',\n    styleUrls: ['/browser-home.component.scss']\n})\nexport class BrowserHomeComponent{\n\n    constructor(public viewController: ViewControllerService){\n\n    }\n\n    public showRestaurantPortal(){\n        this.viewController.setRestaurantPortal();\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/browser-home/browser-home.component.ts","import { Component, AfterViewInit, ViewChild, ElementRef } from \"@angular/core\";\nimport { FormBuilder, Validators, FormGroup } from \"@angular/forms\";\nimport { AuthorizationService } from \"../../services/authorization.service\";\nimport { ViewControllerService } from \"../../services/view-controller.service\";\nimport { DeviceService, EmailPasswordTuple } from \"../../services/device.service\";\nimport { ToastService } from \"../../services/toast.service\";\nimport { GSUser, UserType } from \"../../types/user.type\";\nimport { AlertController } from \"ionic-angular\";\nimport { Restaurant } from \"../../types/restaurant.type\";\nimport { GSLocation } from \"../../types/location.type\";\nimport { RestaurantService } from \"../../services/restaurant-service\";\n\nconst restEmailPasswordComboKey = \"restEmailCombo\";\nconst rememberMeRestKey = \"rememberMeRest\";\n\n@Component({\n    templateUrl: './restaurant-landing.component.html',\n    selector: 'restaurant-landing',\n    styleUrls: ['/restaurant-landing.component.scss']\n})\nexport class RestaurantLandingComponent implements AfterViewInit {\n    public userLogInGroup: FormGroup;\n    public restSignUpGroup: FormGroup;\n\n    public rememberMeLogIn: boolean = false;\n    public rememberMeSignUp: boolean = false;;\n\n    public map: google.maps.Map;\n\n    @ViewChild('signUpCard') signUpCard: ElementRef;\n\n    constructor(public formBuilder: FormBuilder, private auth: AuthorizationService, \n        private viewControl: ViewControllerService, private deviceService: DeviceService,\n        public toastService: ToastService, public alert: AlertController, private restaurantService: RestaurantService) {\n        this.userLogInGroup = this.formBuilder.group({\n            email: ['', Validators.compose([Validators.email, Validators.required])],\n            password: ['', Validators.compose([Validators.minLength(8), Validators.maxLength(64)])],\n            rememberMe: ['']\n        });\n\n        this.restSignUpGroup = this.formBuilder.group({\n            email: ['', Validators.compose([Validators.email, Validators.required])],\n            password: ['', Validators.compose([Validators.minLength(8), Validators.maxLength(64)])],\n            confirmPassword: ['', Validators.compose([Validators.minLength(8), Validators.maxLength(64)])],\n            address: ['', Validators.compose([Validators.required])],\n            city: ['', Validators.compose([Validators.required])],\n            state: ['', Validators.compose([Validators.required])],\n            zipcode: ['', Validators.compose([Validators.minLength(5), Validators.maxLength(5), Validators.pattern('[0-9]*')])],\n            name: ['', Validators.compose([Validators.required])],\n            rememberMe: ['']\n        });\n\n        this.deviceService.getSetting(rememberMeRestKey).then((rememberMe: boolean) => {\n            if(rememberMe){\n                this.deviceService.getUserEmailPasswordFromLocalStorage(restEmailPasswordComboKey).then((emailPasswordTup: EmailPasswordTuple) => {\n                    if(emailPasswordTup){\n                        this.userLogInGroup.get(\"email\").setValue(emailPasswordTup.email);\n                        this.userLogInGroup.get(\"password\").setValue(emailPasswordTup.password);\n        \n                        this.login();\n                    }\n                });\n            }\n        });\n    }\n\n    public ngAfterViewInit(): void {\n        this.map = new google.maps.Map(document.getElementById('map'), { zoom: 15 });\n    }\n\n    public goToUserSignUpScreen(): void {\n        this.signUpCard.nativeElement.scrollIntoView(true);\n    }\n\n    public loginHandler(): void {\n        this.handleRememberMe(this.userLogInGroup);\n\n        this.login();\n    }\n\n    public handleRememberMe(formGroup: FormGroup){\n        const rememberMe: boolean = formGroup.get(\"rememberMe\").value;\n\n        this.deviceService.putSetting(rememberMeRestKey, rememberMe);\n\n        if(rememberMe)\n            this.deviceService.putUserEmailPasswordToLocalStorage(restEmailPasswordComboKey, formGroup.get(\"email\").value, formGroup.get(\"password\").value);\n    }\n\n    public login() {\n        if(this.userLogInGroup.valid){\n            this.toastService.showReadableToast(\"Logging you in...welcome back!\");\n\n            const email = this.userLogInGroup.get(\"email\").value;\n\n            this.auth.checkUserSignInMethods(email).then((methods) => {\n                if(methods.length > 0){//if user not in db\n                    this.auth.signIn(email, this.userLogInGroup.get(\"password\").value,).then(() => {\n                        this.auth.getCurrentUserData().subscribe((users: GSUser[]) => {\n                            this.auth.currentUser = users[0];//there SHOULD be only one\n                            \n                            this.setAppropiateView();\n                        });\n                    }).catch((reason) => {\n                        this.toastService.showReadableToast(\"Double check your password\");\n\n                        console.error(\"Sign in didn't work because: \" + reason);\n                    });\n                }\n                else{\n                    this.toastService.showReadableToast(\"Sorry, we dont have that username signed up. Please sign up.\");\n\n                    console.error(\"User does not exist!\");\n                }\n            }).catch((reason) => {\n                this.toastService.showReadableToast(\"Sign in didn't work because: \" + reason);\n\n                console.error(\"User does not exist!\");\n            });\n        }\n        else{\n            var display: string = \"\";\n\n            if(this.userLogInGroup.get(\"email\").invalid)\n                display += \"Please be sure your email is formatted correctly. \";\n\n            if(this.userLogInGroup.get(\"password\").invalid)\n                display += \"Please be sure your password is at least eight characters long. \";\n\n            this.toastService.showReadableToast(display);\n\n            console.error(\"Fields are invalid\");\n        }\n    }\n\n    public signUp(): void {\n        if(this.restSignUpGroup.valid){\n            //this.toastService.showReadableToast(\"Signing you up...welcome!\");\n\n            const address: string = this.restSignUpGroup.get(\"address\").value;\n            const city: string = this.restSignUpGroup.get(\"city\").value;\n            const state: string = this.restSignUpGroup.get(\"state\").value;\n            const zipcode: string = this.restSignUpGroup.get(\"zipcode\").value;\n\n            var service = new google.maps.places.PlacesService(this.map);\n\n            var textSearchRequest: google.maps.places.TextSearchRequest = {\n                query: this.concatStringsWithSpaces(address, city, state, zipcode)\n            }\n\n            service.textSearch(textSearchRequest, (results: google.maps.places.PlaceResult[]) => {\n                if(results.length < 0){\n                    this.toastService.showReadableToast(\"We couldn't find that address. Please verify your address or contact support\");\n\n                    console.error(\"Address not found\");\n                }\n                else\n                    this.presentVerifyAddressAlert(results, 0);\n            });\n        } else {\n            var display: string = \"\";\n    \n            display = \"One or more of your fields are messed up!\";\n    \n            // if(this.restSignUpGroup.get(\"email\").invalid)//TODO\n            //     display += \"Please be sure your email is formatted correctly. \";\n    \n            // if(this.restSignUpGroup.get(\"password\").invalid)\n            //     display += \"Please be sure your password is at least eight characters long and both passwords match. \";\n    \n            this.toastService.showReadableToast(display);\n    \n            console.error(\"Fields are invalid\");\n        }\n    }\n\n    private concatStringsWithSpaces(...words: string[]): string {\n        var spaceSeperatedWords: string[] = [];\n\n        for(var word of words){\n            var wordsOfWords = word.split(\" \");\n\n            for(var wordOfWords of wordsOfWords){\n                spaceSeperatedWords.push(wordOfWords);\n            }\n        }\n\n        var query = spaceSeperatedWords.join(\" \");\n        \n        return query;\n    }\n\n    private presentVerifyAddressAlert(places: google.maps.places.PlaceResult[], placesIndex: number): void {\n        if(placesIndex < places.length){\n            this.alert.create({\n                buttons:[\n                    {\n                        text: 'Yes',\n                        role: 'yes',\n                        handler: () => {\n                            this.finishSignUpFlow(places[placesIndex])\n                        }\n                    },\n                    {\n                        text: 'No',\n                        role: 'no',\n                        handler: () => {\n                            placesIndex += 1;\n    \n                            this.presentVerifyAddressAlert(places, placesIndex)\n                        }\n                    },\n                ],\n                title: \"First...\",\n                message: \"Verify your business address: \" + places[placesIndex].formatted_address\n            }).present();\n        }\n        else\n            this.toastService.showReadableToast(\"We couldn't find that address. Please verify your address or contact support\");\n    }\n\n    private finishSignUpFlow(place: google.maps.places.PlaceResult){\n\n        const email: string = this.restSignUpGroup.get(\"email\").value;\n        const password: string = this.restSignUpGroup.get(\"password\").value;\n        const confrimPassword: string = this.restSignUpGroup.get(\"confirmPassword\").value;\n        const restaurantName: string = this.restSignUpGroup.get(\"name\").value;\n\n        if(password == confrimPassword) {\n            this.auth.checkUserSignInMethods(email).then((methods) => {\n                if(!methods || methods.length < 1){//if user not in db\n                    this.auth.signUpUser(email, password).then(() => {\n                        this.auth.signIn(email, password).then(() => {\n                            this.handleRememberMe(this.restSignUpGroup);\n\n                            const newUser = new GSUser(this.auth.fireAuth.auth.currentUser.uid, UserType.Restaurant, restaurantName);\n                            \n                            const newRestaurantModel = new Restaurant(this.auth.fireAuth.auth.currentUser.uid, restaurantName, place.formatted_address, \"\", new GSLocation(place.geometry.location));\n                    \n                            newUser.restaurant = newRestaurantModel;\n                    \n                            this.auth.currentUser = newUser;\n                    \n                            this.restaurantService.restaurantCollection.doc(this.auth.fireAuth.auth.currentUser.uid).set(newRestaurantModel.getAsPlainObject());\n\n                            this.auth.userCollection.doc(newUser.uid).set(newUser.getAsPlainObject());\n                    \n                            this.setAppropiateView();\n                        }).catch((reason) => {//couldn't sign in \n                            this.toastService.showReadableToast(\"Sorry, that didn't work beacuase \" + reason);\n\n                            console.error(\"Sign up failed because: \" + reason);\n                        });\n                    }).catch((reason) => {//couldn't sign up\n                        this.toastService.showReadableToast(\"Sorry, that didn't work beacause \" + reason);\n\n                        console.error(\"Sign up failed because: \" + reason);\n                    });\n                }\n                else{\n                    this.toastService.showReadableToast(\"Sorry, that email is already signed up.\");\n\n                    console.error(\"User account already exists\");//user account already exists\n                }\n            }).catch((reason) => {//couldn't check sign in methods\n                this.toastService.showReadableToast(\"Sorry, that didn't work, please contact support.\");\n\n                console.error(\"Sign up failed because: \" + reason);\n            });\n        }\n        else{\n            this.toastService.showReadableToast(\"Please make sure your passwords match.\");\n\n            console.error(\"Passwords do not match\");\n        }\n    }\n\n    private setAppropiateView(){\n        if(this.auth.currentUser.userType == UserType.Restaurant)\n            this.viewControl.setRestaurantHome();\n        else\n            this.viewControl.setConsumerView();\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/restaurant-landing/restaurant-landing.component.ts","import { Component } from \"@angular/core\";\nimport { DealEditorComponent } from \"../deal-editor/deal-editor.component\";\n\n@Component({\n    templateUrl: './restaurant-profile.component.html',\n    selector: 'restaurant-profile',\n    styleUrls: ['/restaurant-profile.component.scss']\n})\n\nexport class RestaurantProfileComponent{\n    public root: any = DealEditorComponent;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/restaurant-profile/restaurant-profile.component.ts"],"sourceRoot":""}