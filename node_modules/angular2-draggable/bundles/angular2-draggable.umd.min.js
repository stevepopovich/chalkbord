!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core")):"function"==typeof define&&define.amd?define(["exports","@angular/core"],e):e(t["angular2-draggable"]={},t.ng.core)}(this,function(t,e){"use strict";var n=function(){return function(t,e){this.x=t,this.y=e}}(),i=function(){function t(t,i){this.el=t,this.renderer=i,this.allowDrag=!0,this.moving=!1,this.orignal=null,this.oldTrans=new n(0,0),this.tempTrans=new n(0,0),this.oldZIndex="",this.oldPosition="",this._zIndex="",this.started=new e.EventEmitter,this.stopped=new e.EventEmitter,this.edge=new e.EventEmitter,this.inBounds=!1}return Object.defineProperty(t.prototype,"zIndex",{set:function(t){this.renderer.setElementStyle(this.el.nativeElement,"z-index",t),this._zIndex=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngDraggable",{set:function(t){if(t!==undefined&&null!==t&&""!==t){this.allowDrag=!!t;var e=this.handle?this.handle:this.el.nativeElement;this.allowDrag?this.renderer.setElementClass(e,"ng-draggable",!0):this.renderer.setElementClass(e,"ng-draggable",!1)}},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){if(this.allowDrag){var t=this.handle?this.handle:this.el.nativeElement;this.renderer.setElementClass(t,"ng-draggable",!0)}},t.prototype.getPosition=function(t,e){return new n(t,e)},t.prototype.moveTo=function(t,e){if(this.orignal){this.tempTrans.x,this.tempTrans.y;this.tempTrans.x=t-this.orignal.x,this.tempTrans.y=e-this.orignal.y,this.transform(),this.bounds&&this.edge.emit(this.boundsCheck())}},t.prototype.transform=function(){var t="translate("+(this.tempTrans.x+this.oldTrans.x)+"px, "+(this.tempTrans.y+this.oldTrans.y)+"px)";this.renderer.setElementStyle(this.el.nativeElement,"transform",t),this.renderer.setElementStyle(this.el.nativeElement,"-webkit-transform",t),this.renderer.setElementStyle(this.el.nativeElement,"-ms-transform",t),this.renderer.setElementStyle(this.el.nativeElement,"-moz-transform",t),this.renderer.setElementStyle(this.el.nativeElement,"-o-transform",t)},t.prototype.pickUp=function(){this.oldZIndex=this.el.nativeElement.style.zIndex?this.el.nativeElement.style.zIndex:"",this.oldPosition=this.el.nativeElement.style.position?this.el.nativeElement.style.position:"",window&&(this.oldZIndex=window.getComputedStyle(this.el.nativeElement,null).getPropertyValue("z-index"),this.oldPosition=window.getComputedStyle(this.el.nativeElement,null).getPropertyValue("position"));var t="relative";!this.oldPosition||"absolute"!==this.oldPosition&&"fixed"!==this.oldPosition&&"relative"!==this.oldPosition||(t=this.oldPosition),this.renderer.setElementStyle(this.el.nativeElement,"position",t),this.zIndexMoving&&this.renderer.setElementStyle(this.el.nativeElement,"z-index",this.zIndexMoving),this.moving||(this.started.emit(this.el.nativeElement),this.moving=!0)},t.prototype.boundsCheck=function(){if(this.bounds){var t=this.bounds.getBoundingClientRect(),e=this.el.nativeElement.getBoundingClientRect(),n={top:t.top<e.top,right:t.right>e.right,bottom:t.bottom>e.bottom,left:t.left<e.left};return this.inBounds&&(n.top||(this.tempTrans.y-=e.top-t.top),n.bottom||(this.tempTrans.y-=e.bottom-t.bottom),n.right||(this.tempTrans.x-=e.right-t.right),n.left||(this.tempTrans.x-=e.left-t.left),this.transform()),n}},t.prototype.putBack=function(){this._zIndex?this.renderer.setElementStyle(this.el.nativeElement,"z-index",this._zIndex):this.zIndexMoving&&(this.oldZIndex?this.renderer.setElementStyle(this.el.nativeElement,"z-index",this.oldZIndex):this.el.nativeElement.style.removeProperty("z-index")),this.moving&&(this.stopped.emit(this.el.nativeElement),this.bounds&&this.edge.emit(this.boundsCheck()),this.moving=!1,this.oldTrans.x+=this.tempTrans.x,this.oldTrans.y+=this.tempTrans.y,this.tempTrans.x=this.tempTrans.y=0)},t.prototype.onMouseDown=function(t){2===t.button||this.handle!==undefined&&t.target!==this.handle||(this.orignal=this.getPosition(t.clientX,t.clientY),this.pickUp())},t.prototype.onMouseUp=function(){this.putBack()},t.prototype.onMouseLeave=function(){this.putBack()},t.prototype.onMouseMove=function(t){this.moving&&this.allowDrag&&this.moveTo(t.clientX,t.clientY)},t.prototype.onTouchEnd=function(){this.putBack()},t.prototype.onTouchStart=function(t){t.stopPropagation(),t.preventDefault(),this.handle!==undefined&&t.target!==this.handle||(this.orignal=this.getPosition(t.changedTouches[0].clientX,t.changedTouches[0].clientY),this.pickUp())},t.prototype.onTouchMove=function(t){t.stopPropagation(),t.preventDefault(),this.moving&&this.allowDrag&&this.moveTo(t.changedTouches[0].clientX,t.changedTouches[0].clientY)},t}();i.decorators=[{type:e.Directive,args:[{selector:"[ngDraggable]"}]}],i.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer}]},i.propDecorators={started:[{type:e.Output}],stopped:[{type:e.Output}],edge:[{type:e.Output}],handle:[{type:e.Input}],bounds:[{type:e.Input}],zIndexMoving:[{type:e.Input}],zIndex:[{type:e.Input}],inBounds:[{type:e.Input}],ngDraggable:[{type:e.Input}],onMouseDown:[{type:e.HostListener,args:["mousedown",["$event"]]}],onMouseUp:[{type:e.HostListener,args:["document:mouseup"]}],onMouseLeave:[{type:e.HostListener,args:["document:mouseleave"]}],onMouseMove:[{type:e.HostListener,args:["document:mousemove",["$event"]]}],onTouchEnd:[{type:e.HostListener,args:["document:touchend"]}],onTouchStart:[{type:e.HostListener,args:["touchstart",["$event"]]}],onTouchMove:[{type:e.HostListener,args:["document:touchmove",["$event"]]}]};var o=function(){return function(){}}();o.decorators=[{type:e.NgModule,args:[{declarations:[i],exports:[i]}]}],o.ctorParameters=function(){return[]},t.AngularDraggableModule=o,t.AngularDraggableDirective=i,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=angular2-draggable.umd.min.js.map
